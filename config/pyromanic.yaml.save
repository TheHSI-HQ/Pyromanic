## (C) 2025 TheHSI
## All rights rserved
##
## : pyromanic.yaml
##   Pyromanic main config file
##
## Comments: ##
## Commented Option: #
## Option: key: value
##
version: v1.0.5
## --- DO NOT MODIFY ABOVE THIS LINE ---

## Enables Pyromanic [true]
enabled: true

## App Settings
app:
  ## App Branding
  branding:
    ## Branding Name [default]
    name: TheHSI Authentication System

    ## Branding Icon [passthrough]
    ## Option:
    ## - default : The Default Icon
    ## - passthrough : Uses the Icon of the Application behind Pyromanic
    ## - *://*/* : An External Icon
    icon: passthrough

  ## App Base Path [/pyro]
  base_path: /pyro

## Proxy Settings
proxy:
  ## Client IP Headers [X-Forwarded-For]
  ## The Client IP will be set as the Value for these Headers,
  ## Previous Value will be overwritten!
  remote_ip_header:
    - X-Forwarded-For

  ## Skip X-Pyromanic Header [false]
  skip_x-pyromanic: false

  ## Add additional Data to the Request [empty]
  additional_data:
    # - type: header ## Adds a Header (X-Dummy with value Dummy Value)
    #   key: X-Dummy
    #   value: Dummy Value
    # - type: parameter ## Adds an HTML Parameter (?dummy=dummy_data or &dummy=dummy_data)
    #   key: dummy
    #   value: dummy_data

  ## Remove a Header from the Response
  strip_headers:
    #- X-Dummy

  ## Allowed HTTP Methods [GET, HEAD, OPTIONS, TRACE]
  ### Options: GET, HEAD, POST, PUT, DELETE, CONNECT, OPTIONS, TRACE, PATCH
  allowed_methods:
    - GET
    - POST
    - HEAD
    - OPTIONS
    - TRACE

  ## Where to get Client IP from [source]
  ## Options:
  ## - source : Use the IP the request originated from
  ## - header[X-Header-Name] : Header of the Request (e.g. header[X-Forwarded-For])
  ## - parameter[url-parameter] : Use a URL parameter (e.g. param[origin] : .../path?origin=1.2.3.4). Will be removed before Proxying
  ## - url : Assumes the last part behind the / in the url to be the IP (e.g. .../example/1.2.3.4). Will be removed before Proxying
  remote_ip_method: source

  ## Stop Modifications to the Original Request [false]
  no_modify: false

  ## Stops all Modifications to the Original Request [false]
  ## this includes routing info, may cause unexpected behaviour
  ## Requires proxy.no_modify to be true
  strict_no_modify: false

  ## Remote Server Root URL [http://localhost:5000/]
  web_root: https://music-streaming.thehsi.cloud/

## Privacy Setting
privacy:
  ## Log IPs [true]
  log_ips: true

## Caching Settings
cache:
  ## Cache Enabled [true]
  enabled: true

  ## Cache Duration in Seconds [900]
  duration: 20

## HTTP Settings
http:
  ## HTTP Enabled [true]
  enabled: false

  ## HTTP Port [80]
  port: 5555 #80

  ## HTTP Host [0.0.0.0]
  host: 0.0.0.0

## HTTPS Settings
https:
  ## HTTPS Enabled [true]
  enabled: true

  ## Use insecure SSL/TLS [false]
  adhoc: true

  ## Certificate Path [./server.crt]
  certificate: server.crt

  ## Private Key Path [./server.key]
  private_key: server.key

  ## HTTPS Port [443]
  port: 443

  ## HTTP Host [0.0.0.0]
  host: 0.0.0.0
